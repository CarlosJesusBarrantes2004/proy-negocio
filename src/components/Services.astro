---
// 1. Script Frontmatter (Se ejecuta en el servidor/build time)

// Definición de datos
// Mantenemos la lista de servicios aquí, movida del archivo JS
const services = [
  {
    icon: "Globe", // Usaremos strings para mapear los íconos
    title: "Desarrollo Frontend",
    description:
      "Creamos sitios web rápidos, seguros y escalables con Astro, Vue, Nuxt, React y Next.js. Carga instantánea y mejor SEO.",
    features: ["Astro", "Vue", "Nuxt", "React", "Next.js"],
  },
  {
    icon: "Server",
    title: "Desarrollo Backend",
    description:
      "Desarrollamos el corazón funcional de tu aplicación con Django (Python). Gestión de datos robusta y segura.",
    features: ["Django", "Python", "APIs REST", "PostgreSQL"],
  },
  {
    icon: "Smartphone",
    title: "Desarrollo Móvil",
    description:
      "Aplicaciones híbridas de alto rendimiento para iOS y Android con Flutter. Reducimos costos y tiempo de lanzamiento.",
    features: ["Flutter", "iOS", "Android", "Cross-platform"],
  },
  {
    icon: "Zap",
    title: "Automatización",
    description:
      "Conectamos tus herramientas y automatizamos tareas repetitivas con n8n y Python. CRM, ERP, bases de datos y más.",
    features: ["n8n", "Python", "APIs", "Integraciones"],
  },
];

// Importamos los componentes de UI de React.
// Astro los usará para renderizar HTML en el servidor.
import {
  Card,
  CardContent,
  CardDescription,
  CardHeader,
  CardTitle,
} from "../components/ui/card";

// Importamos los íconos de Lucide como componentes de React
// Nota: Necesitas que los íconos estén disponibles. Creamos un Mapa de Componentes.
import { Globe, Server, Smartphone, Zap } from "lucide-react";

const IconMap = { Globe, Server, Smartphone, Zap };
---

<section id="servicios" class="py-20 md:py-32">
  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <div class="mb-16 text-center">
      <h2 class="text-foreground text-3xl font-bold sm:text-4xl">
        Nuestros Servicios
      </h2>
      <p class="text-muted-foreground mx-auto mt-4 max-w-2xl text-lg">
        Soluciones completas de desarrollo para llevar tu negocio al siguiente
        nivel
      </p>
    </div>

    <div class="grid gap-6 md:grid-cols-2">
      {/* Usamos el método .map para iterar, igual que en React */}
      {
        services.map((service, index) => {
          // Obtenemos el componente de ícono React usando la clave de string
          const IconComponent = IconMap[service.icon];

          return (
            // Las props de React se pasan normalmente. 'className' se convierte en 'class'
            // si el componente Card fuera un componente Astro nativo, pero como es React, se mantiene 'className'.
            <Card
              key={index}
              className="bg-card border-border hover:border-primary/50 transition-colors group"
            >
              <CardHeader>
                <div class="flex items-center gap-4">
                  <div class="bg-primary/10 text-primary group-hover:bg-primary group-hover:text-primary-foreground rounded-lg p-3 transition-colors">
                    {/* Renderizamos el componente de ícono React. 
                      NO necesita 'client:' porque no tiene interactividad propia. */}
                    <IconComponent className="h-6 w-6" />
                  </div>
                  <CardTitle className="text-xl text-foreground">
                    {service.title}
                  </CardTitle>
                </div>
              </CardHeader>
              <CardContent>
                <CardDescription className="text-muted-foreground text-base">
                  {service.description}
                </CardDescription>
                <div class="mt-4 flex flex-wrap gap-2">
                  {service.features.map((feature, i) => (
                    <span
                      key={i}
                      class="bg-secondary text-secondary-foreground inline-flex items-center rounded-full px-3 py-1 text-xs font-medium"
                    >
                      {feature}
                    </span>
                  ))}
                </div>
              </CardContent>
            </Card>
          );
        })
      }
    </div>
  </div>
</section>
